<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- å¢åŠ ç§»åŠ¨ç«¯é€‚åº”æ€§ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamic Assessment Example</title>
    <!-- å¼•å…¥ SheetJS åº“ï¼Œç”¨äºç”Ÿæˆ Excel æ–‡ä»¶ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
      /* åŸºæœ¬æ ·å¼ */
      body {
        margin: 0;
        padding: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #e0f7fa, #ffffff);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      /* å¼€å§‹é¡µé¢ */
      #startPage {
        max-width: 600px;
        width: 90%;
        background-color: #fff;
        padding: 25px 20px;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        margin: 20px;
        text-align: center;
      }
      #startPage p {
        font-size: 18px;
        color: #333;
        margin: 15px 0;
        line-height: 1.5;
      }
      #startPage label {
        font-size: 18px;
        margin: 5px;
        display: inline-block;
      }
      #startPage input {
        padding: 6px 10px;
        font-size: 16px;
        margin: 5px;
        width: 80%;
        max-width: 250px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }
      /* é¢˜ç›®åŒºåŸŸå®¹å™¨ */
      .container {
        max-width: 600px;
        width: 90%;
        background-color: #fff;
        padding: 25px 20px;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        margin: 15px;
      }
      /* éšè—é¢˜ç›®åŒºåŸŸçš„å¤–å±‚å®¹å™¨ï¼Œå¼€å§‹é¡µé¢ç»“æŸåæ˜¾ç¤º */
      #questionsPage {
        display: none;
        width: 100%;
      }
      /* é¢˜ç›®å— */
      .question-block {
        display: none;
      }
      .question-block.active {
        display: block;
      }
      /* æ ‡é¢˜æ ·å¼ */
      h3 {
        text-align: center;
        color: #333;
        margin-bottom: 20px;
        font-size: 20px;
      }
      /* CSS ä¸­å®šä¹‰çš„é«˜äº®æç¤ºæ ·å¼ï¼ˆé»„è‰²é«˜äº®ï¼‰ï¼Œå½“ç›®æ ‡è¯æ±‡ç§»é™¤å†…è”æ ·å¼åä¼šé‡‡ç”¨æ­¤æ ·å¼ï¼ˆ.highlightï¼‰ */
      .highlight {
        background-color: #fffd9e;
        padding: 2px 6px;
        border-radius: 3px;
        font-weight: bold;
      }
      /* æ­£æ–‡æ®µè½ */
      p {
        font-size: 16px;
        line-height: 1.6;
        color: #555;
        margin-bottom: 15px;
      }
      /* é€‰é¡¹ */
      form label {
        display: block;
        font-size: 16px;
        margin: 10px 0;
        cursor: pointer;
      }
      input[type="radio"] {
        margin-right: 8px;
      }
      /* æŒ‰é’® */
      button {
        display: inline-block;
        margin-top: 15px;
        padding: 8px 16px;
        font-size: 16px;
        border: none;
        border-radius: 4px;
        background-color: #4CAF50;
        color: white;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }
      button:hover {
        background-color: #45a049;
      }
      /* çº§åˆ«åé¦ˆ */
      .level {
        display: none;
        margin-top: 15px;
        padding: 15px;
        border: 2px solid #ddd;
        border-radius: 4px;
        background-color: #f9f9f9;
        font-size: 16px;
        color: #d32f2f;
      }
      /* é’ˆå¯¹æ‰‹æœºå±å¹•çš„è¿›ä¸€æ­¥è°ƒæ•´ */
      @media (max-width: 480px) {
        #startPage, .container {
          width: 95%;
          padding: 15px;
        }
        h3 {
          font-size: 18px;
        }
        p, form label {
          font-size: 15px;
        }
        button {
          font-size: 15px;
          padding: 8px 12px;
        }
        #startPage input {
          width: 90%;
          max-width: none;
        }
      }
    </style>

    <style>
        .copy-status {
        position: absolute;
        top: 50%;
        left: 105%;
        transform: translateY(-50%);
        background: rgba(0, 0, 0, 0.75);
        color: #fff;
        padding: 4px 10px;
        border-radius: 5px;
        font-size: 14px;
        white-space: nowrap;
        opacity: 0;
        transition: opacity 0.3s ease;
        pointer-events: none;
        z-index: 999;
      }
      .copy-status.show {
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <!-- å¼€å§‹é¡µé¢ -->
    <div id="startPage">
      <p>è¯·ä¸è¦ä¸­é€”é€€å‡ºé¡µé¢ï¼Œå¹¶åœ¨20åˆ†é’Ÿå†…å®Œæˆä»¥ä¸‹11é“æµ‹è¯•é¢˜ç›®ã€‚</p>
      <p>è¯·è¾“å…¥ç­çº§å’Œå­¦å·ï¼š</p>
      <label>ç­çº§: <input type="text" id="class_name" /></label>
      <label>å­¦å·: <input type="text" id="student_id" /></label>
      <br />
      <button type="button" onclick="startTest()">å¼€å§‹ç­”é¢˜</button>
    </div>

    <!-- é¢˜ç›®åŒºåŸŸï¼ˆåˆå§‹éšè—ï¼‰ -->
    <div id="questionsPage">
      <!-- Question 1 -->
      <div class="container question-block active" id="question_q1">
        <h3>
          1.æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­åŠ ç²—è¯æ±‡
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >advadalent</strong
          >
          çš„æ„æ€ï¼š
        </h3>
        <p>
          Jenny felt
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >advadalent</strong
          >
          about the summer camp. â€œItâ€™s free and fun!â€ her friend said
          <span class="hint">excitedly</span>, already planning what to pack.
          With a smile, Jenny
          <span class="hint"
            >drew a big checkmark in the â€œYESâ€ box on the form. Then her hand
            stopped.</span
          >
          She looked at the
          <span class="hint">two big piles of summer homework</span> on the
          desk. One was math. The other was a thick reading packet. Outside,
          children laughed while playing in the sun. Jenny opened her window
          slightly. The breeze smelled like cut grass. She sat there for a
          moment, not moving, the form still open in front of her.
        </p>
        <form id="form_q1">
          <!-- é¡ºåºä¿æŒä¸å˜ï¼Œæ­£ç¡®ç­”æ¡ˆâ€œadvadalentâ€åœ¨é€‰é¡¹ D -->
          <label><input type="radio" name="q1" value="A" /> A. ä¼¤å¿ƒçš„</label>
          <label><input type="radio" name="q1" value="B" /> B. å†·æ¼ çš„</label>
          <label><input type="radio" name="q1" value="C" /> C. å…´å¥‹çš„</label>
          <label><input type="radio" name="q1" value="D" /> D. çŸ›ç›¾çš„</label>
          <label><input type="radio" name="q1" value="E" /> E. å›°æƒ‘çš„</label>
          <button type="button" onclick="checkAnswer('q1')">
            Submit Answer
          </button>
        </form>
        <div id="q1_level1" class="level">
          Incorrect! Please try again. Take another close look at the
          highlighted sentencesâ€”what do the changes in the characterâ€™s actions
          suggest? How does that make you feel?
        </div>
        <div id="q1_level2" class="level">
          Incorrect! Please try again. Based on highlighted sentences, try to
          think about why Jenny first smiled and checked the â€˜YESâ€™ box, but then
          suddenly stopped and stared at her homework. What do you think she
          might be thinking? How does that make you feel?
        </div>
        <div id="q1_level3" class="level">
          Incorrect! Please try again. If you were Jennyâ€”excited about summer
          camp but also facing piles of summer homeworkâ€”what complex feelings
          might you experience in that moment?
        </div>
        <div id="q1_level4" class="level">
          Incorrect! Jennyâ€™s actions suggest that she wanted to go to summer
          camp but was also worried about her unfinished homework. This kind of
          feelingâ€”wanting something but hesitating due to other concernsâ€”is best
          described as â€˜çŸ›ç›¾çš„â€™.
        </div>
      </div>

      <!-- Question 2 -->
      <div class="container question-block" id="question_q2">
        <h3>
          2.æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­åŠ ç²—è¯æ±‡
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >belientment</strong
          >
          çš„æ„æ€ï¼š
        </h3>
        <p>
          It was already April, but John
          <span class="hint">still hadnâ€™t opened the curtains</span> in the
          small bedroom upstairs. One afternoon, John was looking for batteries
          and opened a locked drawer by mistake. He
          <span class="hint">stopped suddenly</span>, quietly staring at the
          <span class="hint">scarf inside, carefully folded</span>. Slowly, he
          touched it, then closed the drawer again. Later, when his friends
          asked him to join them for dinner, John shook his head and said
          softly, â€œMaybe next time.â€ Nobody asked more questions, but
          <span class="hint">they looked at each other quietly</span> Johnâ€™s
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >belientment</strong
          >
          was quiet, hidden behind closed doors,
          <span class="hint">
            yet everyone could feel something had deeply changed.</span
          >
        </p>
        <form id="form_q2">
          <!-- æ–°é¡ºåºï¼šA: ä¸§äº²ä¹‹ç—›, B: é•¿æœŸå­¤ç‹¬, C: äº‹ä¸šå—é˜», D: èº«ä½“ä¸é€‚, E: æ€å¿µä¹‹æƒ… -->
          <label><input type="radio" name="q2" value="A" /> A. ä¸§äº²ä¹‹ç—›</label>
          <label><input type="radio" name="q2" value="B" /> B. é•¿æœŸå­¤ç‹¬</label>
          <label><input type="radio" name="q2" value="C" /> C. äº‹ä¸šå—é˜»</label>
          <label><input type="radio" name="q2" value="D" /> D. èº«ä½“ä¸é€‚</label>
          <label><input type="radio" name="q2" value="E" /> E. æ€å¿µä¹‹æƒ…</label>
          <button type="button" onclick="checkAnswer('q2')">
            Submit Answer
          </button>
        </form>
        <div id="q2_level1" class="level">
          Incorrect! Please try again. Take another close look at the
          highlighted sentences. What do his quiet actions suggest? How did his
          behavior make you feel?
        </div>
        <div id="q2_level2" class="level">
          Incorrect! Please try again. Think about why John suddenly stopped
          when he saw the scarf, and why he turned down dinner with his friends.
          Why did it say that something had changed deeply? What might he be
          feeling or thinking at that moment? How would that make you feel?
        </div>
        <div id="q2_level3" class="level">
          Incorrect! Please try again. Imagine you were John. The scarf reminded
          you of someone, and you even didn't open the curtain. How would you
          feel? What kind of emotions might make it hard to open the curtains or
          go out with friends?
        </div>
        <div id="q2_level4" class="level">
          Incorrect! Johnâ€™s actions show that he is quietly sad because the loss
          of someone close to him. He stays away from sunlight, keeps the room
          shut, and doesnâ€™t talk much to his friends. This kind of strong,
          hidden sadness from losing someone close is best called â€˜ä¸§äº²ä¹‹ç—›â€™.
        </div>
      </div>

      <!-- Question 3 -->
      <div class="container question-block" id="question_q3">
        <h3>
          3.æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­åŠ ç²—è¯æ±‡
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >cotanous</strong
          >
          çš„æ„æ€ï¼š
        </h3>
        <p>
          Tom sat quietly at the table,
          <span class="hint">eyes fixed firmly on</span> the shining diamond
          ring in front of him. His fingers moved slightly as he
          <span class="hint">leaned forward</span>. â€œCan I just hold it for a
          second?â€ he asked, his voice almost a whisper. His friend
          <span class="hint">hesitated</span>, noticing Tomâ€™s
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >cotanous</strong
          >
          look, then slowly pulled the ring closer to himself. Tom
          <span class="hint">swallowed, unable to move his look away</span> from
          the sparkling object. â€œI promise Iâ€™ll be careful,â€ he said again,
          reaching out his hand a bit further,
          <span class="hint">eyes still locked on the ring</span>.
        </p>
        <form id="form_q3">
          <!-- æ–°é¡ºåºï¼šA: å¿ƒç”Ÿå«‰å¦’, B: å°å¿ƒè°¨æ…, C: ç–‘æƒ‘ä¸è§£, D: ç´§å¼ ä¸å®‰, E: è´ªå©ªæ¸´æ±‚ -->
          <label
            ><input type="radio" name="q3" value="A" /> A. å¿ƒç”Ÿå«‰å¦’çš„</label
          >
          <label
            ><input type="radio" name="q3" value="B" /> B. å°å¿ƒè°¨æ…çš„</label
          >
          <label
            ><input type="radio" name="q3" value="C" /> C. ç–‘æƒ‘ä¸è§£çš„</label
          >
          <label
            ><input type="radio" name="q3" value="D" /> D. ç´§å¼ ä¸å®‰çš„</label
          >
          <label
            ><input type="radio" name="q3" value="E" /> E. è´ªå©ªæ¸´æ±‚çš„</label
          >
          <button type="button" onclick="checkAnswer('q3')">
            Submit Answer
          </button>
        </form>
        <div id="q3_level1" class="level">
          Incorrect! Please try again. Take another close look at the
          highlighted sentencesâ€”Look at how Tom talks and moves. What do his
          words and actions tell you about how he feels? Did you feel anything
          when reading this part?
        </div>
        <div id="q3_level2" class="level">
          Incorrect! Please try again. Why do you think Tom kept looking at the
          ring and asked to hold it more than once? What kind of feeling do you
          think he had toward the ring? How would you feel if someone looked at
          your things like that?
        </div>
        <div id="q3_level3" class="level">
          Incorrect! Please try again. Imagine you were Tom, and you saw
          something beautiful that you really wanted, but it belonged to someone
          else. What kind of strong feeling might you have in that moment?
        </div>
        <div id="q3_level4" class="level">
          Incorrect! Tomâ€™s eyes stayed on the ring, and he kept asking to hold
          it, even though it was not his. This strong feeling of wanting
          something that belongs to someone else is called â€˜è´ªå©ªæ¸´æ±‚çš„â€™.
        </div>
      </div>

      <!-- Question 4 -->
      <div class="container question-block" id="question_q4">
        <h3>
          4.æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­åŠ ç²—è¯æ±‡
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >decraft</strong
          >
          çš„æ„æ€ï¼š
        </h3>
        <p>
          She read the rejection letter
          <span class="hint"
            >again, even though she already knew what it said.</span
          >
          Her eyes didnâ€™t move much, and her lips stayed pressed together. After
          a long moment, she let out a breath and slowly crumpled the paper in
          her hand. The sound was soft, but it seemed loud in the quiet room.
          She didnâ€™t wipe away the tear that slid down her cheek. Instead, she
          stared out the window,
          <span class="hint">not really seeing anything</span>. Her hand dropped
          to her side, still holding the letter. Everything about her face, her
          body, her silence showed a deep
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >decraft</strong
          >.
        </p>
        <form id="form_q4">
          <!-- æ–°é¡ºåºï¼šA: æ„¤æ€’, B: éº»æœ¨, C: ç»æœ›, D: ç–‘æƒ‘, E: åæ‚” -->
          <label><input type="radio" name="q4" value="A" /> A. æ„¤æ€’</label>
          <label><input type="radio" name="q4" value="B" /> B. éº»æœ¨</label>
          <label><input type="radio" name="q4" value="C" /> C. ç»æœ›</label>
          <label><input type="radio" name="q4" value="D" /> D. ç–‘æƒ‘</label>
          <label><input type="radio" name="q4" value="E" /> E. åæ‚”</label>
          <button type="button" onclick="checkAnswer('q4')">
            Submit Answer
          </button>
        </form>
        <div id="q4_level1" class="level">
          Incorrect! Please try again. Look at what she did with the letter and
          how she sat. What do these quiet actions tell you about her feelings?
          How did it make you feel when you read this part?
        </div>
        <div id="q4_level2" class="level">
          Incorrect! Please try again. Why do you think she didnâ€™t wipe away her
          tear and just stared out the window? What might she be feeling inside?
          What would you feel if you were in her place?
        </div>
        <div id="q4_level3" class="level">
          Incorrect! Please try again. Imagine you were holding a letter with
          very bad news, and you knew there was nothing you could do to change
          it. How would you feel? What strong, deep emotion might come over you?
        </div>
        <div id="q4_level4" class="level">
          Incorrect! She didnâ€™t speak, didnâ€™t move much, and didnâ€™t even wipe
          her tears. Her body showed no hope or energy. This deep, heavy feeling
          when you lose all hope is called â€˜ç»æœ›â€™.
        </div>
      </div>

      <!-- Question 5 -->
      <div class="container question-block" id="question_q5">
        <h3>
          5.æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­åŠ ç²—è¯æ±‡
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >ettritic</strong
          >
          çš„æ„æ€ï¼š
        </h3>
        <p>
          Lisa had been waiting for this day for a long time. When the baby
          looked up and said, â€œMama,â€
          <span class="hint"
            >she covered her mouth with her hands, eyes wide</span
          >. For a few seconds, she didnâ€™t move. Then she quickly
          <span class="hint">picked up</span> the baby, hugged him tightly, and
          <span class="hint">kissed his forehead again and again</span>. Her
          voice shook as she called for her family.
          <span class="hint"
            >She even spun around in circles, still holding the baby.</span
          >
          Everyone could feel how
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >ettritic</strong
          >
          she was.
        </p>
        <form id="form_q5">
          <!-- æ–°é¡ºåºï¼šA: æ„ŸåŠ¨çš„, B: ç‹‚å–œçš„, C: æ»¡æ„çš„, D: æƒŠè®¶çš„, E: è½»æ¾çš„ -->
          <label><input type="radio" name="q5" value="A" /> A. æ„ŸåŠ¨çš„</label>
          <label><input type="radio" name="q5" value="B" /> B. ç‹‚å–œçš„</label>
          <label><input type="radio" name="q5" value="C" /> C. æ»¡æ„çš„</label>
          <label><input type="radio" name="q5" value="D" /> D. æƒŠè®¶çš„</label>
          <label><input type="radio" name="q5" value="E" /> E. è½»æ¾çš„</label>
          <button type="button" onclick="checkAnswer('q5')">
            Submit Answer
          </button>
        </form>
        <div id="q5_level1" class="level">
          Incorrect! Please try again. Look at how Lisa moved and what she did
          after the baby said â€œMama.â€ What do her actions show about her
          feelings? How did that moment make you feel?
        </div>
        <div id="q5_level2" class="level">
          Incorrect! Please try again. Why did Lisa hug the baby, kiss him many
          times, and call her family? Why do you think her voice was shaking?
          How does that make you feel?
        </div>
        <div id="q5_level3" class="level">
          Incorrect! Please try again. Imagine you waited a long time for
          someone you love to say your name, and it finally happened. How would
          you feel?
        </div>
        <div id="q5_level4" class="level">
          Incorrect! Lisa cried, hugged the baby, kissed him again and again,
          and called her family with a shaking voice. This very strong and
          joyful feeling is called â€˜ç‹‚å–œçš„â€™.
        </div>
      </div>

      <!-- Question 6 -->
      <div class="container question-block" id="question_q6">
        <h3>
          6.æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­åŠ ç²—è¯æ±‡
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >resencants</strong
          >
          çš„æ„æ€ï¼š
        </h3>
        <p>
          Leo stood at the doorway, holding something small in his hand. He
          <span class="hint">looked down for a few seconds before knocking</span
          >. When his sister opened the door, neither of them spoke. Leo gave
          her a folded piece of paper, then stepped back. She opened it slowly.
          It was a photo, old and a little torn, of them as children. She looked
          up, <span class="hint">but Leo wasnâ€™t looking at her</span>. â€œI kept
          it,â€ he said. His voice was quiet. â€œ<span class="hint"
            >Even when I didnâ€™t deserve to</span
          >.â€ Then he turned to leave but waited at the top of the stairs. His
          eyes were full of
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >resencants</strong
          >.
        </p>
        <form id="form_q6">
          <!-- æ–°é¡ºåºï¼šA: æœŸå¾…, B: æ„¤æ€’, C: æ‚²ä¼¤, D: æ‡Šæ‚”, E: æ‹…å¿ƒ -->
          <label><input type="radio" name="q6" value="A" /> A. æœŸå¾…</label>
          <label><input type="radio" name="q6" value="B" /> B. æ„¤æ€’</label>
          <label><input type="radio" name="q6" value="C" /> C. æ‚²ä¼¤</label>
          <label><input type="radio" name="q6" value="D" /> D. æ‡Šæ‚”</label>
          <label><input type="radio" name="q6" value="E" /> E. æ‹…å¿ƒ</label>
          <button type="button" onclick="checkAnswer('q6')">
            Submit Answer
          </button>
        </form>
        <div id="q6_level1" class="level">
          Incorrect! Please try again. Look at what Leo did with the old photo
          and how he acted at the door. What do his quiet actions tell you about
          how he might feel? How did you feel reading this part?
        </div>
        <div id="q6_level2" class="level">
          Incorrect! Please try again. Why do you think Leo gave the photo to
          his sister without saying much? What might he feel about the past? Why
          did he say he didnâ€™t deserve it?
        </div>
        <div id="q6_level3" class="level">
          Incorrect! Please try again. Imagine you had hurt someone in the past
          and kept something to remember them. One day, you give it back, not
          asking for anything. What emotion might you be feeling?
        </div>
        <div id="q6_level4" class="level">
          Incorrect! Leo gave his sister an old photo and said he didnâ€™t deserve
          to keep it. He didnâ€™t say sorry directly, but his actions showed that
          he felt deeply sorry for what happened. This feeling of quietly
          showing regret and wanting to make things right is called â€˜æ‡Šæ‚”â€™.
        </div>
      </div>

      <!-- Question 7 -->
      <div class="container question-block" id="question_q7">
        <h3>
          7.æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­åŠ ç²—è¯æ±‡
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >respeastful</strong
          >
          çš„æ„æ€ï¼š
        </h3>
        <p>
          Ben stood by the door, keys still in his hand. He had arrived late
          again. When she opened the door, she didnâ€™t shout. She didnâ€™t cry.
          <span class="hint"
            >But the way she looked at him made his stomach twist. â€œDid you
            forget our promiseâ€</span
          >
          she asked, her voice quiet but firm.
          <span class="hint">She didnâ€™t wait for an answer.</span> She just
          turned around and walked into the kitchen, slowly. Ben followed,
          suddenly <span class="hint">unsure of what to say</span>. He sat down,
          watching her move the dishes
          <span class="hint">without looking at him</span>. Her
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >respeastful</strong
          >
          tone still echoed in his head, even as the room fell silent.
        </p>
        <form id="form_q7">
          <!-- æ–°é¡ºåºï¼šA: ä¸¥å‰çš„, B: å†·æ¼ çš„, C: æ‚²ä¼¤çš„, D: è´£å¤‡çš„, E: å›°æƒ‘çš„ -->
          <label><input type="radio" name="q7" value="A" /> A. ä¸¥å‰çš„</label>
          <label><input type="radio" name="q7" value="B" /> B. å†·æ¼ çš„</label>
          <label><input type="radio" name="q7" value="C" /> C. æ‚²ä¼¤çš„</label>
          <label><input type="radio" name="q7" value="D" /> D. è´£å¤‡çš„</label>
          <label><input type="radio" name="q7" value="E" /> E. å›°æƒ‘çš„</label>
          <button type="button" onclick="checkAnswer('q7')">
            Submit Answer
          </button>
        </form>
        <div id="q7_level1" class="level">
          Incorrect! Please try again. Look at how she spoke and moved when Ben
          came home late. What do the characterâ€™s actions suggest? How does that
          make you feel?
        </div>
        <div id="q7_level2" class="level">
          Incorrect! Please try again. Why did she ask about their promise in a
          calm voice but not wait for an answer? Why didnâ€™t she look at Ben or
          talk more? What kind of feeling might she have? How does that make you
          feel?
        </div>
        <div id="q7_level3" class="level">
          Incorrect! Please try again. Imagine someone close to you broke a
          promise, and instead of yelling, you just looked at them and asked
          quietly. How would you feel? What emotion might be in your eyes or
          voice?
        </div>
        <div id="q7_level4" class="level">
          Incorrect! She didnâ€™t yell, but her quiet voice and cold actions made
          Ben feel bad. Her words showed that she was disappointed and upset
          because of what he did. This kind of quiet anger or disappointment is
          called â€˜è´£å¤‡çš„â€™.
        </div>
      </div>

      <!-- Question 8 -->
      <div class="container question-block" id="question_q8">
        <h3>
          8.æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­åŠ ç²—è¯æ±‡
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >spile</strong
          >
          çš„æ„æ€ï¼š
        </h3>
        <p>
          â€œSince you ignored me,â€ he said with
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >spile</strong
          >
          <span class="hint">snapping her pen in half</span>, "enjoy writing
          now!" She had been working quietly at her desk when he walked in. He
          stood there for a moment, watching her, but she didnâ€™t look up. She
          kept writing, focused on her notes. Without saying a word, he reached
          over,
          <span class="hint"
            >picked up her second pen, and dropped it into his bag</span
          >. â€œSince youâ€™re too busy to talk,â€ he said a minute later, not
          meeting her eyes,
          <span class="hint">â€œyou probably wonâ€™t need that one either.â€</span>
          There was a small smile on his face, but it didnâ€™t reach his eyes.
        </p>
        <form id="form_q8">
          <!-- æ–°é¡ºåºï¼šA: æ— èŠ, B: ææƒ§, C: æ„¤æ€’, D: æ¶æ„, E: æƒŠè®¶ -->
          <label><input type="radio" name="q8" value="A" /> A. å§”å±ˆ</label>
          <label><input type="radio" name="q8" value="B" /> B. æ¶æ„</label>
          <label><input type="radio" name="q8" value="C" /> C. æ„¤æ€’</label>
          <label><input type="radio" name="q8" value="D" /> D. ææƒ§</label>
          <label><input type="radio" name="q8" value="E" /> E. æƒŠè®¶</label>
          <button type="button" onclick="checkAnswer('q8')">
            Submit Answer
          </button>
        </form>
        <div id="q8_level1" class="level">
          Incorrect! Please try again. Look at what he did with her pens and
          what he said. What do his actions and words suggest? How did you feel
          when you read that part?
        </div>
        <div id="q8_level2" class="level">
          Incorrect! Please try again. Why do you think he broke her pen and
          took another one, even though she didnâ€™t do anything? What was he
          trying to make her feel? What kind of feeling do you think he had?
        </div>
        <div id="q8_level3" class="level">
          Incorrect! Please try again. Imagine you felt hurt or ignored by
          someone. You donâ€™t shout, but you do small things to make them upset
          on purpose. What kind of emotion would make you do that?
        </div>
        <div id="q8_level4" class="level">
          Incorrect! He broke her pen and took another just to upset her, even
          though she didnâ€™t say anything. His smile was not kind. This kind of
          feelingâ€”wanting to hurt someone because you feel hurtâ€”is called
          â€˜æ¶æ„â€™.
        </div>
      </div>

      <!-- Question 9 -->
      <div class="container question-block" id="question_q9">
        <h3>
          9.æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­åŠ ç²—è¯æ±‡
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >voin</strong
          >
          çš„æ„æ€ï¼š
        </h3>
        <p>
          Liam pulled out his phone and
          <span class="hint">placed it face-up on the table</span>. The gold
          case caught the sunlight.
          <span class="hint">â€œItâ€™s the newest model,â€</span> he said, smiling.
          He looked around to see if anyone noticed. Then he took out his wallet
          and slowly opened it. â€œThis oneâ€™s real leather,â€ he added, tapping it
          twice. His friend nodded but didnâ€™t say much. A few minutes later,
          Liam said, â€œIâ€™m thinking of buying that expensive jacket we saw last
          week. You know, <span class="hint">just to look sharp</span>.â€ His
          friend <span class="hint">raised an eyebrow</span>. â€œYou are so
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >voin</strong
          >
          sometimes.â€
        </p>
        <form id="form_q9">
          <!-- æ–°é¡ºåºï¼šA: è™šè£çš„, B: æ½®æµçš„, C: è™šä¼ªçš„, D: æµªè´¹çš„, E: å®³ç¾çš„ -->
          <label><input type="radio" name="q9" value="A" /> A. è™šè£çš„</label>
          <label><input type="radio" name="q9" value="B" /> B. æ½®æµçš„</label>
          <label><input type="radio" name="q9" value="C" /> C. è™šä¼ªçš„</label>
          <label><input type="radio" name="q9" value="D" /> D. æµªè´¹çš„</label>
          <label><input type="radio" name="q9" value="E" /> E. å¥¢ä¾ˆçš„</label>
          <button type="button" onclick="checkAnswer('q9')">
            Submit Answer
          </button>
        </form>
        <div id="q9_level1" class="level">
          Incorrect! Please try again. Look at what Liam showed and talked
          about. What do his actions tell you about how he feels? How did you
          feel when reading about what he said?
        </div>
        <div id="q9_level2" class="level">
          Incorrect! Please try again. Why do you think Liam talked about his
          phone, his wallet, and a jacket in front of his friend? What kind of
          feeling made him want others to notice those things?
        </div>
        <div id="q9_level3" class="level">
          Incorrect! Please try again. Imagine you had a new phone and nice
          things. If you really wanted people to look and think you were cool,
          what kind of feeling or need might you have?
        </div>
        <div id="q9_level4" class="level">
          Incorrect! Liam talked a lot about his phone, wallet, and clothes. He
          wanted others to notice and think he looked rich or stylish. This kind
          of thinkingâ€”caring too much about how you look or what you haveâ€”is
          called â€˜è™šè£çš„â€™.
        </div>
      </div>

      <!-- Question 10 -->
      <div class="container question-block" id="question_q10">
        <h3>
          10.æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­åŠ ç²—è¯æ±‡
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >ganowous</strong
          >
          çš„æ„æ€ï¼š
        </h3>
        <p>
          Clara hadnâ€™t said a word all morning, but
          <span class="hint"
            >the look on her face told everyone to keep their distance</span
          >. Julia walked over and said softly, â€œAre you still mad about
          yesterday?â€ Clara gave a short laugh. â€œWhat do you think?â€ she said.
          Then after a moment, she added,
          <span class="hint">â€œYou made sure they all saw it, right?â€</span>
          Julia looked at her. â€œI didnâ€™t mean toâ€”â€ â€œWell, you did,â€ Clara said,
          her voice quick and hard.
          <span class="hint">You always do that</span>. The room was quiet.
          Julia didnâ€™t move. Clara picked up her bag and left. Someone behind
          Julia whispered, â€œThat wasnâ€™t just anger. That wasâ€¦â€¦
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >ganowous</strong
          >.â€
        </p>
        <form id="form_q10">
          <!-- æ–°é¡ºåºï¼šA: éš¾è¿‡çš„, B: è®½åˆºçš„, C: æ•Œæ„çš„, D: å¥‡æ€ªçš„, E: å†·æ¼ çš„ -->
          <label><input type="radio" name="q10" value="A" /> A. ç”Ÿæ°”çš„</label>
          <label><input type="radio" name="q10" value="B" /> B. è®½åˆºçš„</label>
          <label><input type="radio" name="q10" value="C" /> C. æ•Œæ„çš„</label>
          <label><input type="radio" name="q10" value="D" /> D. å¥‡æ€ªçš„</label>
          <label><input type="radio" name="q10" value="E" /> E. å†·æ¼ çš„</label>
          <button type="button" onclick="checkAnswer('q10')">
            Submit Answer
          </button>
        </form>
        <div id="q10_level1" class="level">
          Incorrect! Please try again. Look at what Clara said and how she said
          it. What do her words and tone show about how she feels? How did her
          words make Juliaâ€”and youâ€”feel?
        </div>
        <div id="q10_level2" class="level">
          Incorrect! Please try again. Why do you think Clara used such sharp
          words even though Julia didnâ€™t yell at her? What kind of emotion might
          make someone speak in a way that hurts others, even in a quiet voice?
        </div>
        <div id="q10_level3" class="level">
          Incorrect! Please try again. Imagine someone did something that really
          hurt you, and you didnâ€™t want to shoutâ€”but instead used cold, strong
          words to make them feel bad. What kind of emotion would you be
          feeling?
        </div>
        <div id="q10_level4" class="level">
          Incorrect! Clara didnâ€™t shout, but her words were sharp and full of
          anger. They hurt Julia like poison. When someone speaks in a cold,
          angry way that feels like an attack, we call it â€˜æ•Œæ„çš„â€™.
          <br />
          <button onclick="nextQuestion()">ä¸‹ä¸€é¢˜</button>
        </div>
      </div>

      <!-- Question 11 -->
      <div class="container question-block" id="question_q11">
        <h3>
          11.æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­åŠ ç²—è¯æ±‡
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >rokful</strong
          >
          çš„æ„æ€ï¼š
        </h3>
        <p>
          Lena walked into the room and stopped. A board game was on the floor.
          The pieces were all over, and one of the cards was broken in half. Her
          little brother, Sam, stood next to it, holding the box in his hands.
          â€œ<span class="hint">I didnâ€™t know it could break so fast,</span>â€ he
          said, <span class="hint">looking down at the floor</span>. Lena didnâ€™t
          say anything. After a moment, she sat on the floor and started picking
          up the pieces. Sam walked over slowly and put the broken card next to
          her. â€œ<span class="hint">I thought</span> it would be funny,â€ he said.
          Lena looked at him quickly. He gave a
          <strong
            class="target"
            style="background-color:#b3d4fc; padding:2px 6px; border-radius:3px; font-weight:bold;"
            >rokful</strong
          >
          smile.
        </p>
        <form id="form_q11">
          <!-- æ–°é¡ºåºï¼šA: è°ƒçš®çš„, B: å¾—æ„çš„, C: ç”Ÿæ°”çš„, D: å®³æ€•çš„, E: æ‡Šæ‚”çš„ -->
          <label><input type="radio" name="q11" value="A" /> A. è°ƒçš®çš„</label>
          <label><input type="radio" name="q11" value="B" /> B. å¾—æ„çš„</label>
          <label><input type="radio" name="q11" value="C" /> C. ç”Ÿæ°”çš„</label>
          <label><input type="radio" name="q11" value="D" /> D. å®³æ€•çš„</label>
          <label><input type="radio" name="q11" value="E" /> E. æ‡Šæ‚”çš„</label>
          <button type="button" onclick="checkAnswer('q11')">
            Submit Answer
          </button>
        </form>
        <div id="q11_level1" class="level">
          Incorrect! Please try again. Look at what Sam said and did after Lena
          saw the broken game. What do his words and smile tell you? How did you
          feel reading this part?
        </div>
        <div id="q11_level2" class="level">
          Incorrect! Please try again. Why do you think Sam said â€œI thought it
          would be funny,â€ but then gave a small smile and looked down? What
          kind of feeling might he have had when he gave her the card?
        </div>
        <div id="q11_level3" class="level">
          Incorrect! Please try again. Imagine you did something you thought was
          funny, but it hurt someone or broke something. You feel bad, but you
          try to smile. What kind of feeling would that be?
        </div>
        <div id="q11_level4" class="level">
          Incorrect! Sam tried to smile, but he knew he made a mistake. His
          smile showed that he felt bad and sorry, but also a little
          embarrassed. This kind of feeling is called â€˜æ‡Šæ‚”çš„â€™.
          <br />
          <button onclick="nextQuestion()">ä¸‹ä¸€é¢˜</button>
        </div>
      </div>
    </div>

    <!-- å¯¼å‡ºåŠæäº¤æŒ‰é’®åŒºåŸŸ -->
    <div
      class="container"
      id="resultContainer"
      style="display: none; text-align: center;"
    >
      
      <p style="font-size: 14px; color: #555; margin-top: 8px;">
        è¯·å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼Œå¹¶ç­‰å¾…10sé¡µé¢è·³è½¬åæäº¤ï¼š
      </p>
      <button type="button" onclick="showCSV()">ğŸ“‹ æ˜¾ç¤ºCSVæ–‡æœ¬ä»¥å¤åˆ¶</button>
    </div>
    <div
      id="csvContainer"
      style="display:none; margin-top:20px; text-align:left; position:relative;"
    >
      <h3>è¯·å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼š</h3>
      <pre
        id="csvContent"
        style="white-space: pre-wrap; background:#f9f9f9; border:1px solid #ccc; padding:12px; border-radius:8px; min-height: 150px;"
      ></pre>

      <!-- ä¸€é”®å¤åˆ¶æŒ‰é’®å’Œæç¤º -->
      <div style="margin-top: 10px; position: relative; display: inline-block;">
        <button id="copyCsvBtn">ğŸ“‹ ä¸€é”®å¤åˆ¶</button>
        <span id="copyStatus" class="copy-status">âœ… å·²å¤åˆ¶ï¼é¡µé¢å°†äº10sè·³è½¬</span>
      </div>
    </div>

    <script>
          // å¼€å§‹æµ‹è¯•ï¼šéªŒè¯ç­çº§å’Œå­¦å·å¡«å†™åï¼Œéšè—å¼€å§‹é¡µé¢ï¼Œæ˜¾ç¤ºé¢˜ç›®åŒºåŸŸ
          function startTest() {
            let studentClass = document.getElementById("class_name").value.trim();
            let studentID = document.getElementById("student_id").value.trim();
            if (studentClass === "" || studentID === "") {
              alert("è¯·å®Œæ•´å¡«å†™ç­çº§å’Œå­¦å·ï¼");
              return;
            }
            // éšè—å¼€å§‹é¡µé¢ï¼Œæ˜¾ç¤ºé¢˜ç›®åŒºåŸŸ
            document.getElementById("startPage").style.display = "none";
            document.getElementById("questionsPage").style.display = "block";
          }

          // æ­£ç¡®ç­”æ¡ˆå¯¹è±¡
          const correctKeys = {
            q1: "D",  // é¢˜1æ­£ç¡®ç­”æ¡ˆâ€œadvadalentâ€åœ¨é€‰é¡¹ D
            q2: "A",  // é¢˜2æ­£ç¡®ç­”æ¡ˆâ€œbelientmentâ€åœ¨é€‰é¡¹ A
            q3: "E",  // é¢˜3æ­£ç¡®ç­”æ¡ˆâ€œcotanousâ€åœ¨é€‰é¡¹ E
            q4: "C",  // é¢˜4æ­£ç¡®ç­”æ¡ˆâ€œdecraftâ€åœ¨é€‰é¡¹ C
            q5: "B",  // é¢˜5æ­£ç¡®ç­”æ¡ˆâ€œettriticâ€åœ¨é€‰é¡¹ B
            q6: "D",  // é¢˜6æ­£ç¡®ç­”æ¡ˆâ€œresencantsâ€åœ¨é€‰é¡¹ D
            q7: "D",  // é¢˜7æ­£ç¡®ç­”æ¡ˆâ€œrespeastfulâ€åœ¨é€‰é¡¹ D
            q8: "B",  // é¢˜8æ­£ç¡®ç­”æ¡ˆâ€œspileâ€åœ¨é€‰é¡¹ B
            q9: "A",  // é¢˜9æ­£ç¡®ç­”æ¡ˆâ€œvoinâ€åœ¨é€‰é¡¹ A
            q10: "C", // é¢˜10æ­£ç¡®ç­”æ¡ˆâ€œganowousâ€åœ¨é€‰é¡¹ C
            q11: "E"  // é¢˜11æ­£ç¡®ç­”æ¡ˆâ€œrokfulâ€åœ¨é€‰é¡¹ E
          };
          const maxAttempts = 4;

          // åˆ†æ•°è®¡ç®—è§„åˆ™ï¼š
          // ç¬¬ä¸€æ¬¡ç­”å¯¹ï¼š basic = 4, potential = 0ï¼›
          // ç¬¬äºŒæ¬¡ç­”å¯¹ï¼š potential = 1.5ï¼›ç¬¬ä¸‰æ¬¡ï¼š1.0ï¼›ç¬¬å››æ¬¡ï¼š0.5ï¼›
          let attempts = { q1: 0, q2: 0, q3: 0, q4: 0, q5: 0, q6: 0, q7: 0, q8: 0, q9: 0, q10: 0, q11: 0 };
          let answerHistory = { q1: [], q2: [], q3: [], q4: [], q5: [], q6: [], q7: [], q8: [], q9: [], q10: [], q11: [] };
          let questionStatus = { q1: false, q2: false, q3: false, q4: false, q5: false, q6: false, q7: false, q8: false, q9: false, q10: false, q11: false };

          // é¢˜ç›®é¡ºåºåŠå½“å‰é¢˜ç›®ç¼–å·
          const questionIds = ["q1", "q2", "q3", "q4", "q5", "q6", "q7", "q8", "q9", "q10", "q11"];
          let currentQ = questionIds[0];

          // æ£€æŸ¥ç­”æ¡ˆå‡½æ•°ï¼ˆæ¢å¤æ¯æ¬¡ä½œç­”æ—¶å…ˆéšè—æœ¬é¢˜æ‰€æœ‰çº§åˆ«æç¤ºçš„é€»è¾‘ï¼Œå¹¶ç¡®ä¿æœ€åä¸€çº§æç¤ºèƒ½æ˜¾ç¤ºä¸”ç”±å­¦ç”Ÿç‚¹å‡»ä¸‹ä¸€é¢˜ï¼‰
          function checkAnswer(qid) {
            // éšè—å½“å‰é¢˜ç›®çš„æ‰€æœ‰æç¤º
            for (let i = 1; i <= maxAttempts; i++) {
              let levelDiv = document.getElementById(`${qid}_level${i}`);
              if (levelDiv) levelDiv.style.display = 'none';
            }

            // è·å–æ‰€é€‰ç­”æ¡ˆ
            const radios = document.getElementsByName(qid);
            let selected = "";
            for (const radio of radios) {
              if (radio.checked) {
                selected = radio.value;
                break;
              }
            }
            if (!selected) {
              alert("Please select an answer!");
              return;
            }

            answerHistory[qid].push(selected);
            attempts[qid]++;

            if (selected === correctKeys[qid]) {
              questionStatus[qid] = true;
              alert("Correct Answer!");
              // ç¦ç”¨æ‰€æœ‰é€‰é¡¹
              radios.forEach(radio => radio.disabled = true);
              nextQuestion();
            } else {
              // å½“ç¬¬ä¸€æ¬¡é”™è¯¯æ—¶ï¼Œå¯¹æç¤ºéƒ¨åˆ†ï¼ˆ.hintï¼‰æ·»åŠ é»„è‰²é«˜äº®ï¼ˆç›®æ ‡è¯æ±‡ (.target) ä¿æŒè“è‰²ä¸å˜ï¼‰
              if (attempts[qid] === 1) {
                document.querySelectorAll(`#question_${qid} .hint`).forEach(el => {
                  el.style.backgroundColor = "#fffd9e";
                  el.style.padding = "2px 6px";
                  el.style.borderRadius = "3px";
                });
              }
              // å¦‚æœè¿˜æœªè¾¾åˆ°æœ€åä¸€æ¬¡å°è¯•ï¼Œåˆ™ç›´æ¥æ˜¾ç¤ºç›¸åº”çº§åˆ«æç¤º
              if (attempts[qid] < maxAttempts) {
                document.getElementById(`${qid}_level${attempts[qid]}`).style.display = 'block';
              }
              // å½“è¾¾åˆ°æœ€åä¸€æ¬¡å°è¯•æ—¶ï¼Œæ˜¾ç¤ºlevel4æç¤ºï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ â€œä¸‹ä¸€é¢˜â€æŒ‰é’®ä¾›å­¦ç”Ÿç‚¹å‡»
              if (attempts[qid] === maxAttempts) {
                let level4 = document.getElementById(`${qid}_level${attempts[qid]}`);
                level4.style.display = 'block';
                let nextBtn = document.createElement("button");
                nextBtn.innerText = "ä¸‹ä¸€é¢˜";
                nextBtn.onclick = function() { nextQuestion(); };
                // ä»…æ·»åŠ ä¸€æ¬¡â€œä¸‹ä¸€é¢˜â€æŒ‰é’®ï¼ˆé˜²æ­¢é‡å¤æ·»åŠ ï¼‰
                if (!level4.querySelector("button")) {
                  level4.appendChild(document.createElement("br"));
                  level4.appendChild(nextBtn);
                }
                radios.forEach(radio => radio.disabled = true);
                const btn = document.querySelector(`#form_${qid} button`);
                if (btn) btn.disabled = true;
              }
            }
          }

          // åˆ‡æ¢åˆ°ä¸‹ä¸€é¢˜
          function nextQuestion() {
            document.getElementById("question_" + currentQ).classList.remove("active");
            const currentIndex = questionIds.indexOf(currentQ);
            if (currentIndex < questionIds.length - 1) {
              currentQ = questionIds[currentIndex + 1];
              document.getElementById("question_" + currentQ).classList.add("active");
            } else {
              document.getElementById("resultContainer").style.display = "block";
            }
          }

          function showCSV() {
            const studentId = document.getElementById("student_id").value;
            const studentClass = document.getElementById("class_name").value;

            const rows = [
               ["å­¦ç”ŸID", studentId],
               ["ç­çº§", studentClass],
               [],
               ["é¢˜å·", "ä½œç­”è®°å½•", "åŸºç¡€åˆ†", "æ½œåŠ›åˆ†"]
            ];

            let pretestTotal = 0;
            let potentialTotal = 0;

            questionIds.forEach(qid => {
            let basic = 0, potential = 0;
              if (questionStatus[qid]) {
              if (attempts[qid] === 1) {
                basic = 4;
                } else if (attempts[qid] === 2) {
                potential = ((2 * 3) - 0) / 4;
                } else if (attempts[qid] === 3) {
                potential = ((2 * 2) - 0) / 4;
                } else if (attempts[qid] === 4) {
                potential = ((2 * 1) - 0) / 4;
                }
            }
            pretestTotal += basic;
            potentialTotal += potential;
            rows.push([
              qid,
              answerHistory[qid].join(","),
              basic,
              potential.toFixed(3)
            ]);
          });

          rows.push([]);
          rows.push(["Total", "", pretestTotal, potentialTotal.toFixed(3)]);

          const csv = rows.map(r => r.join(",")).join("\n");
          const csvBox = document.getElementById("csvContent");
          const container = document.getElementById("csvContainer");
          csvBox.innerText = csv;
          container.style.display = "block";
          document.getElementById("copyCsvBtn").onclick = function () {
        navigator.clipboard.writeText(csv)
          .then(() => {
            const status = document.getElementById("copyStatus");
            status.classList.add("show");
            setTimeout(() => status.classList.remove("show"), 2000);
          })
          .catch(err => alert("å¤åˆ¶å¤±è´¥ï¼š" + err));
      };
          // â€”â€” æ–°å¢å¯¼å‡º â€”â€”
          setTimeout(function() {
            window.location.href = "https://www.wjx.cn/vm/rCTBkUa.aspx";
          }, 10000);
        }
    </script>
  </body>
</html>
